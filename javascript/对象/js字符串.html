<!DOCTYPE html>
<html>
<head>
	<title>字符串</title>
	<meta charset="utf-8">
</head>
<body>
	<script type="text/javascript">
		// 创建字符串对象
		var x = "5";
		var y = new String(x);
		document.write("变量x的值是:" + x);
		document.write("<br>");
		document.write("变量x的类型是:" + typeof x);
		document.write("<br>");
		document.write("变量y的值是:" + y);
		document.write("<br>");
		document.write("变量y的类型是:" + typeof y);
		document.write("<br>");

		// 字符串长度
		var y = new String("Hello javascript");
		document.write("通过.length属性获取字符串长度:" + y.length);
		document.write("<br>");

		// 返回指定位置的字符串
		document.write("通过charAt(0)获取位置0的字符串:" + y.charAt(0));
		document.write("<br>");
		// 返回指定位置的字符串的Unicode码
		document.write("通过charCodeAt(0)获取位置0的字符的Unicode码:" + y.charCodeAt(0));
		document.write("<br>");

		// 字符串拼接
		var a = new String("Hello");
		var b = new String("Javascript");
		document.write("通过函数concat()把x和y连接起来:" + a.concat(b));
		document.write("<br>");

		//子字符串出现的位置
		document.write("通过函数indexOf(\"a\")获取子字符a第一次出现的位置: " + y.indexOf("a"));
		document.write("<br>");
		document.write("通过函数lastIndexOf(\"a\")获取子字符a最后一次出现的位置:" + y.lastIndexOf("a"));
		document.write("<br>");

		// 比较两个字符串是否相同
		var str1 = new String("Hello");
		var str2 = new String("Hello");
		var str3 = new String("zloHa");
		document.write("通过localeCompare()判断str1和str2是否相等:" + str1.localeCompare(str2));// 0表示相同
		document.write("<br>");
		document.write("通过localeCompare()判断str1和str3是否相等:" + str1.localeCompare(str3));// 非0不同 1表示字母顺序靠后 -1表示字母顺序靠前
		document.write("<br>");

		// 截取一段字符串
		document.write('y.substring(0,3)获取0到3的字符串:' + y.substring(0,3));//左闭右开，取得到0，取不到位置是3的字符串
		document.write("<br>");

		//根据分割符，把字符串转换为数组
		var s = new String("Hello This Is Javascript");
		var ss = s.split(" ");
		document.write("通过空格分隔split(\" \"):" + ss);
		document.write("<br>");
		var ss2 = s.split(" ",2);
		document.write("通过空格分隔split(\" \",2),得到数组,并且只保留前两个:" + ss2);
		document.write("<br>");

		// 替换字符串
		document.write("源字符串:" + s);
		document.write("<br>");
		var s1 = s.replace("a","o");
		document.write("通过函数replace(\"a\",\"o\")替换第一个a为o后:" + s1);
		document.write("<br>");

		// RegExp 对象用于规定在文本中检索的内容。
		// 需要找到所有某个字符的所有存在，则可以使用 "g" 参数 ("global")。
		var regs = new RegExp("a","g");
		var s2 = s.replace(regs,"o");
		document.write("替换全部a为o后:" + s2);
		document.write("<br>");

		// 返回基本类型
		var s3 = s.charAt(0);
		document.write("通过charAt()获取的类型是:" + typeof s3);
		document.write("<br>");
		var s4 = s.concat("!!!");
		document.write("通过concat()的类型是:" + typeof s4);
		document.write("<br>");
		var s5 = s.substring(0,3);
		document.write("通过substring()的类型是:" + typeof s5);
		document.write("<br>");
	</script>

	<!-- 练习 -->
	<table>
		<tr>
			<td>源字符串:</td>
			<td><textarea id="str1"></textarea></td>
		</tr>
		<tr>
			<td>查询:</td>
			<td><input type="text" id="cx"></td>
		</tr>
		<tr>
			<td>替换:</td>
			<td><input type="text" id="th"></td>
		</tr>
		<tr>
			<td>替换结果:</td>
			<td><textarea id="str2"></textarea></td>
		</tr>
		<tr>
			<td></td>
			<td><input type="submit" onclick="t()" value="替换"></td>
		</tr>
	</table>
	<script type="text/javascript">
		function t(){
			var str1 = new String(document.getElementById('str1').value);
			var c = document.getElementById('cx').value;
			var t = document.getElementById('th').value;
			
			var regs = new RegExp(c,"g");
			var str2 = str1.replace(regs,t);

			document.getElementById('str2').value = str2;
		}
	</script>
</body>
</html>
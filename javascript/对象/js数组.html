<!DOCTYPE html>
<html>
<head>
	<title>数组</title>
	<meta charset="utf-8">
</head>
<body>	
	<script type="text/javascript">
		// 创建数组
		function p(s,v){
			document.write(s + ' ' + v);
			document.write("<br>");
		}
		var x = new Array();//创建数组长度是0的数组
		p('通过new Array()创建一个空数组:',x);
		x = new Array(5);//创建长度是5的数组
		p('通过new Array(5)创建一个长度是5的数组:',x);
		p('像new Array(5)创建的数组，它的每个元素都是:',x[0]); 
		x = new Array(1,2,3,4,5);
		p('创建有初始值的数组new Array(1,2,3,4,5):',x);


		// 数组长度
		p('当前数组是:',x);
		p('通过lenth获取的数组长度是:',x.length);

		// 遍历数组
		p('当前数组是:',x);
		document.write('普通for遍历数组:<br>');
		for(var i = 0;i < x.length;i++){
			p(x[i],' ');
		}
		document.write('增强for遍历数组:<br>');
		for(i in x){
			p(x[i],' ');
		}

		// 连接数组
		var s1 = new Array(1,2,3);
		var s2 = new Array(4,5,6);
		p('数组1:',s1);
		p('数组2:',s2);
		var s3 = s1.concat(s2);
		p('通过函数concat连接的数组3:',s3);

		// 通过指定分隔符，返回一个数组的字符串表达
		p('数组s3:',s3);
		var s4 = s3.join();
		p('s4 = s3.join()得到的是数组s3的字符串表达，其值是:',s4);
		document.write('其类型是:' + typeof s4);
		var s5 = s3.join('@');
		p('s5 = s3.join(\'@\')得到的字符串表达，不过分隔符不是默认的\',\'，而是\'@\':',s5);

		// 分别在最后的位置插入数据和获取数据(获取后删除)
		p('数组s3:',s3);
		s3.push(5);
		p('向s3中push 5得到:',s3);
		var e = s3.pop();//取最后一位的值
		p('从s3中pop一个值出来，其值是:',e);
		p('pop之后，数组s3:',s3); 

		// 分别在最开始的位置插入数据和获取数据(获取后删除)
		p('数组s3:',s3);
		s3.unshift(5);
		p('向s3中unshift 5得到:',s3);
		var e = s3.shift();//取最开始的值
		p('从s3中shift一个值出来,其值是:',e);
		p('shift之后，数组s3:',s3);

		// 对数组内容进行排序
		var s6 = new Array(11,1,23,0);
		p('数组s6:',s6);
		s6.sort();
		p('使用sort排序后的数组是:',s6);

		// 自定义排序算法
		var s6 = new Array(11,1,23,0);
		p('数组s6:',s6);
		// 自定义算法
		function comparator(v1,v2){
			return v2 - v1;//v2-v1表示大的放前面，小的放后面
		}
		s6.sort(comparator);
		p('使用自定义排序算法后的数组:',s6);

		// 对数组的内容进行反转
		p('数组s3:',s3);
		s3.reverse();
		p('通过函数reverse()反转后的数组:',s3);

		//获取子数组
		s3 = new Array(3,1,4,1,5,9,2,6)
		p('数组s3:',s3);
		var y1 = s3.slice(1);
		p('s3.slice(1)获取的子数组是:' + y1);
		var y2 = s3.slice(1,3);
		p('s3.slice(1,3)获取的子数组是:' + y2);

		//插入和删除元素
		var x1 = new Array(3,1,4,1,5,9,2,6);
		p('数组x1:',x1);
		x1.splice(3,2);//从3的位置开始删除2个元素
		p('x1.splice(3,2)之后的数组x1:',x1);
		x1.splice(3,0,1,5);
		p('x1.splice(3,0,1,5)从3的位置开始删除0个元素，但是从3的位置开始插入1和5,得到:',x1);
	</script>

	<!-- 练习去重复 -->
	<script type="text/javascript">
		var s1 = new Array(1,3,4,5,7,7,4,5,6,7,7);
		function ss(s){
			var s2 = new Array();
			for (var i = 0; i < s.length; i++) {
				if (s2.indexOf(s[i]) == -1) {
					s2.push(s[i]);
				}
			}
			return s2;
		}
		document.write('排序去重复之后的数组:' + ss(s1).sort());
	</script>

	<!-- 练习 -->
	<table>
		<tr>
			<td>随机输入英文字符串:</td>
			<td><textarea id="text1"></textarea></td>
		</tr>
		<tr>
			<td>正排序结果:</td>
			<td><textarea id="text2"></textarea></td>
		</tr>
		<tr>
			<td>倒排序结果:</td>
			<td><textarea id="text3"></textarea></td>
		</tr>
		<tr>
			<td></td>
			<td><input type="submit" value="按照字母排序" onclick="z()"></td>
		</tr>
		<tr>
			<td></td>
			<td><input type="submit" value="按照单词排序" onclick="d()"></td>
		</tr>
	</table>
	<script type="text/javascript">
		function get(id){
			return document.getElementById(id).value;
		}
		function set(id,value){
			document.getElementById(id).value = value;
		}
		function comparator1(v1,v2){
			return v2.charCodeAt(0) - v1.charCodeAt(0);
		}
		function comparator2(v1,v2){
			return v1.charCodeAt(0) - v2.charCodeAt(0);
		}
		//按照字母排序
		function z(){
			var str = get('text1');
			var cs = new Array(str.length);
			for(var i = 0;i < str.length;i++){
				cs[i] = str.charAt(i);
			}
			set('text2',cs.sort().join(''));
			set('text3',cs.sort(comparator1).join(''));
		}

		//按照单词排序
		function d(){
			var str = get('text1');
			var cs = str.split(' ');
			set('text2',cs.sort(comparator2).join(' '));
			set('text3',cs.sort(comparator1).join(' '));
		}
	</script>
</body>
</html>